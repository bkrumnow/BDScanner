/**
 * ----------------- ThirdPartyNotices -----------------------------------------
 * This file is based on or incorporates material from the projects listed below
 * (collectively, “Third Party Code”).
 * Skype is not the original author of the Third Party Code.
 * The original copyright notice and the license, under which Skype received
 * such Third Party Code, are set forth below.
 * Such licenses and notices are provided for informational purposes only.
 * Skype, not the third party, licenses the Third Party Code to you
 * under the terms set forth in the Terms of Use for the Skype Product.
 * Skype reserves all other rights not expressly granted under this agreement,
 * whether by implication, estoppel or otherwise.
 */

/** License
*The JavaScript Canvas to Blob script is released under the
*MIT license: http://www.opensource.org/licenses/MIT.
*/

/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*! elementQuery | Author: Tyson Matanich (http://matanich.com), 2013 | License: MIT */

/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   2.3.0
 */

/*!
 * Knockout JavaScript library v3.2.0
 * (c) Steven Sanderson - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */

/**
 * @license
 * lodash 3.6.0 (Custom Build) <https://lodash.com/>
 * Build: `lodash compat -o ./lodash.js`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */

/*!
 *
 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */

/*!
 * Reqwest! A general purpose XHR connection manager
 * license MIT (c) Dustin Diaz 2013
 * https://github.com/ded/reqwest
 ** version 1.0.2
 */

/*!
 * Sizzle CSS Selector Engine v@VERSION
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: @DATE
 */

/**
 * Copyright (c) 2011-2014 Felix Gnass
 * Licensed under the MIT license
 * http://spin.js.org/
 */

//
// usertiming.js
//
// A polyfill for UserTiming (http://www.w3.org/TR/user-timing/)
//
// Copyright 2013 Nic Jansma
// http://nicj.net
//
// https://github.com/nicjansma/usertiming.js
//
// Licensed under the MIT license
//

/* ***********************************
*  * Share on Skype *
*  * THIRD PARTY CODE NOTICE *
*  ***********************************
* This file is based on or incorporates material from the projects listed below (collectively, “Third Party Code”).   Skype is not the original author of the Third Party Code.   The original copyright * notice and the license, under which Skype received such Third Party Code, are set forth below.  Such licenses and notices are provided for informational purposes only.  Skype, not the third party, * licenses the Third Party Code to you under the terms set forth in the Terms of Use for the Skype Product.  Skype reserves all other rights not expressly granted under this agreement, whether by * implication, estoppel or otherwise.
* ------------------------------------------------------------------------------------------------------------------------
* React 0.13.3
*
* Copyright (c) 2013-2015, Facebook, Inc.
*
* For informational purposes only.
*
* All rights reserved.
*
* Redistribution and use in source and binary forms, with or without modification,
* are permitted provided that the following conditions are met:
*
*  * Redistributions of source code must retain the above copyright notice, this
*    list of conditions and the following disclaimer.
*
*  * Redistributions in binary form must reproduce the above copyright notice,
*    this list of conditions and the following disclaimer in the documentation
*    and/or other materials provided with the distribution.
*
*  * Neither the name Facebook nor the names of its contributors may be used to
*    endorse or promote products derived from this software without specific
*    prior written permission.
*
* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
* ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
* WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
* DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
* ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
* (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
* LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
* ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
* (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
* SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
* ------------------------------------------------------------------------------------------------------------------------
* through 2.3.8
*
* Copyright (c) 2011 Dominic Tarr
*
* Provided for Informational Purposes Only
* MIT License
*
* Permission is hereby granted, free of charge, to any person obtaining
* a copy of this software and associated documentation files (the
* "Software"), to deal in the Software without restriction, including
* without limitation the rights to use, copy, modify, merge, publish,
* distribute, sublicense, and/or sell copies of the Software, and to
* permit persons to whom the Software is furnished to do so, subject to
* the following conditions:
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
* MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
* LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
* OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
* WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE..
* ------------------------------------------------------------------------------------------------------------------------
* base62 0.1.1
*
* Copyright (c) 2012 Andrew Nesbitt
* Provided for Informational Purposes Only
* MIT License
*
* Permission is hereby granted, free of charge, to any person obtaining
* a copy of this software and associated documentation files (the
* "Software"), to deal in the Software without restriction, including
* without limitation the rights to use, copy, modify, merge, publish,
* distribute, sublicense, and/or sell copies of the Software, and to
* permit persons to whom the Software is furnished to do so, subject to
* the following conditions:
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
* MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
* LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
* OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
* WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*
* ------------------------------------------------------------------------------------------------------------------------
*
* amdefine 1.0.0
*
* Copyright (c) 2011-2015 The Dojo Foundation
* Provided for Informational Purposes Only
* MIT License
*
* Permission is hereby granted, free of charge, to any person obtaining
* a copy of this software and associated documentation files (the
* "Software"), to deal in the Software without restriction, including
* without limitation the rights to use, copy, modify, merge, publish,
* distribute, sublicense, and/or sell copies of the Software, and to
* permit persons to whom the Software is furnished to do so, subject to
* the following conditions:
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
* MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
* LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
* OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
* WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*
* ------------------------------------------------------------------------------------------------------------------------
*
* source-map 0.1.31
* Copyright (c) 2009-2011, Mozilla Foundation and contributors
* All rights reserved.
* Provided for Informational Purposes Only
* BSD License
*
* Redistribution and use in source and binary forms, with or without
* modification, are permitted provided that the following conditions are met:
*
* * Redistributions of source code must retain the above copyright notice, this
*   list of conditions and the following disclaimer.
*
* * Redistributions in binary form must reproduce the above copyright notice,
*   this list of conditions and the following disclaimer in the documentation
*   and/or other materials provided with the distribution.
*
* * Neither the names of the Mozilla Foundation nor the names of project
*   contributors may be used to endorse or promote products derived from this
*   software without specific prior written permission.
*
* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
* ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
* WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
* DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
* FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
* SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
* CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
* OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
* OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
* ------------------------------------------------------------------------------------------------------------------------
* esprima-fb 13001.1001.0-dev-harmony-fb
*
* Copyright (c) Facebook
* Provided for Informational Purposes Only
* BSD License
*
* All rights reserved.
*
* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
*
* Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
*
* Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
*
* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS"" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS * FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*
* ------------------------------------------------------------------------------------------------------------------------
*
* jstransform 10.1.0
*
* Copyright (c) 2013-present, Facebook, Inc.
*
* Provided for Informational Purposes Only
* BSD License
*
* All rights reserved.
*
* Redistribution and use in source and binary forms, with or without modification,
* are permitted provided that the following conditions are met:
*  * Redistributions of source code must retain the above copyright notice, this
*    list of conditions and the following disclaimer.
*  * Redistributions in binary form must reproduce the above copyright notice,
*    this list of conditions and the following disclaimer in the documentation
*    and/or other materials provided with the distribution.
*  * Neither the name Facebook nor the names of its contributors may be used to
*    endorse or promote products derived from this software without specific
*    prior written permission.
*
* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS ""AS IS"" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS * FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
* ------------------------------------------------------------------------------------------------------------------------
*
* envify 3.4.0
*
* Copyright (c) Hugh Kennedy and Andres Suarez
*
* Provided for Informational Purposes Only
* MIT License
*
* Permission is hereby granted, free of charge, to any person obtaining
* a copy of this software and associated documentation files (the
* "Software"), to deal in the Software without restriction, including
* without limitation the rights to use, copy, modify, merge, publish,
* distribute, sublicense, and/or sell copies of the Software, and to
* permit persons to whom the Software is furnished to do so, subject to
* the following conditions:
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
* MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
* LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
* OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
* WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/

/**
 * ----------------- End of ThirdPartyNotices ----------------------------------
 */
(function(){var e,t,n;(function(r){function v(e,t){return h.call(e,t)}function m(e,t){var n,r,i,s,o,u,a,f,c,h,p,v=t&&t.split("/"),m=l.map,g=m&&m["*"]||{};if(e&&e.charAt(0)===".")if(t){v=v.slice(0,v.length-1),e=e.split("/"),o=e.length-1,l.nodeIdCompat&&d.test(e[o])&&(e[o]=e[o].replace(d,"")),e=v.concat(e);for(c=0;c<e.length;c+=1){p=e[c];if(p===".")e.splice(c,1),c-=1;else if(p===".."){if(c===1&&(e[2]===".."||e[0]===".."))break;c>0&&(e.splice(c-1,2),c-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((v||g)&&m){n=e.split("/");for(c=n.length;c>0;c-=1){r=n.slice(0,c).join("/");if(v)for(h=v.length;h>0;h-=1){i=m[v.slice(0,h).join("/")];if(i){i=i[r];if(i){s=i,u=c;break}}}if(s)break;!a&&g&&g[r]&&(a=g[r],f=c)}!s&&a&&(s=a,u=f),s&&(n.splice(0,u,s),e=n.join("/"))}return e}function g(e,t){return function(){return s.apply(r,p.call(arguments,0).concat([e,t]))}}function y(e){return function(t){return m(t,e)}}function b(e){return function(t){a[e]=t}}function w(e){if(v(f,e)){var t=f[e];delete f[e],c[e]=!0,i.apply(r,t)}if(!v(a,e)&&!v(c,e))throw new Error("No "+e);return a[e]}function E(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e){return function(){return l&&l.config&&l.config[e]||{}}}var i,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice,d=/\.js$/;o=function(e,t){var n,r=E(e),i=r[0];return e=r[1],i&&(i=m(i,t),n=w(i)),i?n&&n.normalize?e=n.normalize(e,y(t)):e=m(e,t):(e=m(e,t),r=E(e),i=r[0],e=r[1],i&&(n=w(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return g(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:S(e)}}},i=function(e,t,n,i){var s,l,h,p,d,m=[],y=typeof n,E;i=i||e;if(y==="undefined"||y==="function"){t=!t.length&&n.length?["require","exports","module"]:t;for(d=0;d<t.length;d+=1){p=o(t[d],i),l=p.f;if(l==="require")m[d]=u.require(e);else if(l==="exports")m[d]=u.exports(e),E=!0;else if(l==="module")s=m[d]=u.module(e);else if(v(a,l)||v(f,l)||v(c,l))m[d]=w(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,g(i,!0),b(l),{}),m[d]=a[l]}}h=n?n.apply(a[e],m):undefined;if(e)if(s&&s.exports!==r&&s.exports!==a[e])a[e]=s.exports;else if(h!==r||!E)a[e]=h}else e&&(a[e]=n)},e=t=s=function(e,t,n,a,f){if(typeof e=="string")return u[e]?u[e](t):w(o(e,t).f);if(!e.splice){l=e,l.deps&&s(l.deps,l.callback);if(!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},typeof n=="function"&&(n=a,a=f),a?i(r,e,t,n):setTimeout(function(){i(r,e,t,n)},4),s},s.config=function(e){return s(e)},e._defined=a,n=function(e,t,n){t.splice||(n=t,t=[]),!v(a,e)&&!v(f,e)&&(f[e]=[e,t,n])},n.amd={jQuery:!0}})(),n("amd",function(){}),n("browser/document",[],function(){return document}),function(e){if(typeof module=="object"&&typeof module.exports=="object"){var r=e(t,exports);r!==undefined&&(module.exports=r)}else typeof n=="function"&&n.amd&&n("swx-utils-common/lib/guid",["require","exports"],e)}(function(e,t){function n(e){var t=e.toString(16),n=4-t.length,r;for(r=0;r<n;r+=1)t="0"+t;return t}function r(){var e=new Array(8),t,r;for(r=0;r<e.length;r+=2)t=Math.floor(Math.random()*4294967296),e[r]=n(t&65535),e[r+1]=n(t>>>16),r+1===3&&(e[r+1]="4"+e[r+1].substring(1));return e}function i(){var e=r();return e[0]+e[1]+"-"+e[2]+"-"+e[3]+"-"+e[4]+"-"+e[5]+e[6]+e[7]}function s(){var e=r();return e[0]+e[1]+e[2]+e[3]+e[4]+e[5]+e[6]+e[7]}t.create=i,t.createRaw=s}),function(e){if(typeof module=="object"&&typeof module.exports=="object"){var r=e(t,exports);r!==undefined&&(module.exports=r)}else typeof n=="function"&&n.amd&&n("swx-utils-common/lib/index",["require","exports","./guid"],e)}(function(e,t){var n=e("./guid");t.guid=n}),n("swx-utils-common",["swx-utils-common/lib/index"],function(e){return e}),n("services/i18n/shareButton/combinedResources",[],function(){return{keyNames:["share_on_skype_share_button","share_on_skype_alt_text_button"],translations:{"am-et":["አጋራ","በ Skype አጋራ"],"ar-sa":["مشاركة","المشاركة على Skype"],"az-latn-az":["Paylaş","Skype-da paylaşın"],"be-by":["Падзяліцца","Падзяліцца на Skype"],"bg-bg":["Споделяне","Споделяне в Skype"],"bn-bd":["অংশিদারি করুন","ব্যক্তিকে এই গোষ্ঠীতে লিঙ্কের মাধ্যমে যোগ দেওয়ার অনুমতি দিন। বন্ধ।"],"bn-in":["ভাগ করুন","Skype-এ ভাগ করুন"],"bs-latn-ba":["Podijelite","Podijeli na Skypeu"],"ca-es":["Comparteix","Comparteix a través de Skype"],"ca-es-valencia":["Comparteix","Comparteix a l'Skype"],"cs-cz":["Sdílet","Sdílet na Skypu"],"cy-gb":["Rhannu","Rhannu ar Skype"],"da-dk":["Del","Del via Skype"],"de-de":["Freigeben","Über Skype teilen"],"el-gr":["Κοινή χρήση","Κοινή χρήση στο Skype"],"en-gb":["Share","Share on Skype"],"en-us":["Share","Share on Skype"],"es-es":["Compartir","Compartir en Skype"],"et-ee":["Jaga","Jagamine Skype'is"],"eu-es":["Partekatu","Partekatua Skype-n"],"fa-ir":["اشتراک گذاری","اشتراک گذاری در Skype"],"fi-fi":["Jaa","Jaa Skypessä"],"fil-ph":["Ibahagi","Ibahagi sa Skype"],"fr-fr":["Partager","Partager sur Skype"],"gd-gb":["Co-roinn","Co-roinn air Skype"],"gl-es":["Compartir","Compartir en Skype"],"gu-in":["સહિયારું કરો","Skype પર સહિયારું કરો"],"he-il":["שתף","שיתוף ב- Skype"],"hi-in":["शेयर करें","Skype पर साझा करें"],"hr-hr":["Zajednički koristi","Dijeli na Skypeu"],"hu-hu":["Megosztás","Megosztás a Skype-on"],"id-id":["Bagikan","Bagikan di Skype"],"is-is":["Deila","Deila á Skype"],"it-it":["Condividi","Condividi in Skype"],"ja-jp":["共有","Skype で共有"],"ka-ge":["გაზიარება","გაზიარება Skype-ში"],"kk-kz":["Бөлісу","Skype бойынша бөлісу"],"kn-in":["ಹಂಚು","Skype ಮೂಲಕ ಹಂಚಿಕೊಳ್ಳಿ"],"ko-kr":["공유","Skype에서 공유"],"ku-arab-iq":["هاوبەشکردن","هاوبەشکردن لەسەر Skype"],"lb-lu":["Deelen","Op Skype deelen"],"lt-lt":["Bendrinti","Bendrinti programoje „Skype“"],"lv-lv":["Kopīgot","Koplietot programmā Skype"],"mk-mk":["Сподели","Сподели на Skype"],"ml-in":["പങ്കിടുക","Skype-ൽ പങ്കിടുക"],"mr-in":["सामायिक करा","Skype वर सामायिक करा"],"ms-my":["Kongsi","Kongsi pada Skype"],"nb-no":["Del","Del i Skype"],"nl-nl":["Delen","Delen op Skype"],"nn-no":["Del","Del på Skype"],"or-in":["ଅଂଶୀଦାର","Skypeରେ ଅଂଶୀଦାର କରନ୍ତୁ"],"pl-pl":["Udostępnij","Udostępnij przez Skype'a"],"pt-br":["Compartilhar","Compartilhar no Skype"],"pt-pt":["Partilhar","Partilhar no Skype"],"ro-ro":["Partajare","Trimiteți pe Skype"],"ru-ru":["Поделиться","Поделиться в Skype"],"sk-sk":["Zdieľať","Zdieľanie v Skype"],"sl-si":["Daj v skupno rabo","Deli v Skypu"],"sq-al":["Bashkëndaj","Bashkëndaj në Skype"],"sr-cyrl-ba":["Подијелите","Подијели на Skype-у"],"sr-cyrl-rs":["Дели","Дели на Skype-у"],"sr-latn-rs":["Deli","Deli na Skypeu"],"sv-se":["Dela","Dela i Skype"],"sw-ke":["Shiriki","Shiriki kwenye Skype"],"ta-in":["பகிர்","Skype-இல் பகிர்க"],"te-in":["భాగస్వామ్యం చేయి","Skypeలో భాగస్వామ్యం చేయండి"],"th-th":["แชร์","แชร์บน Skype"],"tr-tr":["Paylaş","Skype'ta paylaş"],"uk-ua":["Поділитися","Поділитися в Skype"],"ur-pk":["اشتراک کریں","Skype پر اشتراک کریں"],"uz-latn-uz":["Umumiy foydalanmoq","Skype-da almashish"],"vi-vn":["Chia sẻ","Chia sẻ trên Skype"],"zh-cn":["共享","在Skype上共享"],"zh-tw":["分享","在 Skype 上共用"]}}}),n("browser/window",[],function(){return window}),n("services/i18n/cultureInfo",[],function(){function e(){function i(e){for(t=0;t<n.length;t++)if(n[t].language.toLowerCase()===e.toLowerCase())return n[t]}function s(e){for(t=0;t<r.length;t++)if(r[t].locale.toLowerCase()===e.toLowerCase()&&r[t])return r[t]}var e=this,t,n=[{language:"am",defaultLocale:"am-et"},{language:"ar",defaultLocale:"ar-sa"},{language:"bg",defaultLocale:"bg-bg"},{language:"bn",defaultLocale:"bn-in"},{language:"ca",defaultLocale:"ca-es"},{language:"cs",defaultLocale:"cs-cz"},{language:"cy",defaultLocale:"cy-gb"},{language:"da",defaultLocale:"da-dk"},{language:"de",defaultLocale:"de-de"},{language:"el",defaultLocale:"el-gr"},{language:"en",defaultLocale:"en-us"},{language:"es",defaultLocale:"es-es"},{language:"et",defaultLocale:"et-ee"},{language:"eu",defaultLocale:"eu-es"},{language:"fa",defaultLocale:"fa-ir"},{language:"fi",defaultLocale:"fi-fl"},{language:"fil",defaultLocale:"fil-ph"},{language:"fr",defaultLocale:"fr-fr"},{language:"gl",defaultLocale:"gl-es"},{language:"gu",defaultLocale:"gu-in"},{language:"he",defaultLocale:"he-il"},{language:"hi",defaultLocale:"hi-in"},{language:"hr",defaultLocale:"hr-hr"},{language:"hu",defaultLocale:"hu-hu"},{language:"id",defaultLocale:"id-id"},{language:"is",defaultLocale:"is-is"},{language:"it",defaultLocale:"it-it"},{language:"ja",defaultLocale:"ja-jp"},{language:"kk",defaultLocale:"kk-kz"},{language:"kn",defaultLocale:"kn-in"},{language:"ko",defaultLocale:"ko-kr"},{language:"ku",defaultLocale:"ku-arab-iq"},{language:"lt",defaultLocale:"lt-lt"},{language:"lv",defaultLocale:"lv-lv"},{language:"ml",defaultLocale:"ml-in"},{language:"mr",defaultLocale:"mr-in"},{language:"ms",defaultLocale:"ms-my"},{language:"nb",defaultLocale:"nb-no"},{language:"nl",defaultLocale:"nl-nl"},{language:"nn",defaultLocale:"nn-no"},{language:"or",defaultLocale:"or-in"},{language:"pl",defaultLocale:"pl-pl"},{language:"pt",defaultLocale:"pt-PT"},{language:"pt-pt",defaultLocale:"pt-PT"},{language:"pt-br",defaultLocale:"pt-BR"},{language:"ro",defaultLocale:"ro-ro"},{language:"ru",defaultLocale:"ru-ru"},{language:"sk",defaultLocale:"sk-sk"},{language:"sl",defaultLocale:"sl-si"},{language:"sr",defaultLocale:"sr-cyrl-rs"},{language:"sr-cyrl",defaultLocale:"sr-cyrl-rs"},{language:"sr-latn",defaultLocale:"sr-latn-rs"},{language:"sv",defaultLocale:"sv-se"},{language:"sw",defaultLocale:"sw-ke"},{language:"ta",defaultLocale:"ta-in"},{language:"te",defaultLocale:"te-in"},{language:"th",defaultLocale:"th-th"},{language:"tr",defaultLocale:"tr-tr"},{language:"uk",defaultLocale:"uk-ua"},{language:"ur",defaultLocale:"ur-pk"},{language:"vi",defaultLocale:"vi-vn"},{language:"zh",defaultLocale:"zh-cn"},{language:"zh-hant",defaultLocale:"zh-tw"},{language:"zh-cht",defaultLocale:"zh-tw"},{language:"zh-hk",defaultLocale:"zh-tw"},{language:"zh-mo",defaultLocale:"zh-tw"}],r=[{locale:"am-et",pesLocale:"am"},{locale:"ar-sa",pesLocale:"ar"},{locale:"az-latn-az",pesLocale:"az"},{locale:"be-by",pesLocale:"be-BY"},{locale:"bg-bg",pesLocale:"bg"},{locale:"bn-bd",pesLocale:"bn"},{locale:"bn-in",pesLocale:"bn"},{locale:"bs-latn-ba",pesLocale:"bs-Latn-BA"},{locale:"ca-es",pesLocale:"ca"},{locale:"ca-es-valencia",pesLocale:"ca"},{locale:"cs-cz",pesLocale:"cs"},{locale:"cy-gb",pesLocale:"cy-GB"},{locale:"da-dk",pesLocale:"da"},{locale:"de-de",pesLocale:"de"},{locale:"el-gr",pesLocale:"el"},{locale:"en-gb",pesLocale:"en"},{locale:"en-us",pesLocale:"en"},{locale:"es-es",pesLocale:"es"},{locale:"et-ee",pesLocale:"et"},{locale:"eu-es",pesLocale:"eu"},{locale:"fa-ir",pesLocale:"fa"},{locale:"fi-fl",pesLocale:"fi"},{locale:"fil-ph",pesLocale:"fil_PH"},{locale:"fr-fr",pesLocale:"fr"},{locale:"gd-gb",pesLocale:"gd-GB"},{locale:"gl-es",pesLocale:"gl"},{locale:"gu-in",pesLocale:"gu-IN"},{locale:"he-il",pesLocale:"he"},{locale:"hi-in",pesLocale:"hi"},{locale:"hr-hr",pesLocale:"hr"},{locale:"hu-hu",pesLocale:"hu"},{locale:"id-id",pesLocale:"id"},{locale:"is-is",pesLocale:"is"},{locale:"it-it",pesLocale:"it"},{locale:"ja-jp",pesLocale:"ja"},{locale:"ka-ge",pesLocale:"ka-GE"},{locale:"kk-kz",pesLocale:"kk"},{locale:"kn-in",pesLocale:"kn"},{locale:"ko-kr",pesLocale:"ko"},{locale:"ku-arab-iq",pesLocale:"ku-Arab-IQ"},{locale:"lb-lu",pesLocale:"lb-LU"},{locale:"lt-lt",pesLocale:"lt"},{locale:"lv-lv",pesLocale:"lv"},{locale:"mk-mk",pesLocale:"mk"},{locale:"ml-in",pesLocale:"ml"},{locale:"mr-in",pesLocale:"mr-IN"},{locale:"ms-my",pesLocale:"ms"},{locale:"nb-no",pesLocale:"no"},{locale:"nl-nl",pesLocale:"nl"},{locale:"nn-no",pesLocale:"no"},{locale:"or-in",pesLocale:"or-IN"},{locale:"pl-pl",pesLocale:"pl"},{locale:"pt-pt",pesLocale:"pt-PT"},{locale:"pt-br",pesLocale:"pt-BR"},{locale:"ro-ro",pesLocale:"ro"},{locale:"ru-ru",pesLocale:"ru"},{locale:"sk-sk",pesLocale:"sk"},{locale:"sl-sl",pesLocale:"sl"},{locale:"sq-al",pesLocale:"sq"},{locale:"sr-cyrl-ba",pesLocale:"sr"},{locale:"sr-cyrl-rs",pesLocale:"sr"},{locale:"sr-latn-rs",pesLocale:"sr"},{locale:"sv-se",pesLocale:"sv"},{locale:"sw-ke",pesLocale:"sw"},{locale:"ta-in",pesLocale:"ta"},{locale:"te-in",pesLocale:"te"},{locale:"th-th",pesLocale:"th"},{locale:"tr-tr",pesLocale:"tr"},{locale:"uk-ua",pesLocale:"uk"},{locale:"ur-pk",pesLocale:"ur-PK"},{locale:"uz-latn-uz",pesLocale:"uz"},{locale:"vi-vn",pesLocale:"vi"},{locale:"zh-cn",pesLocale:"zh_Hans"},{locale:"zh-tw",pesLocale:"zh_Hant"}];e.getPesLocale=function(t){var n,r;if(!t)return"default";n=s(t);if(n&&n.pesLocale)return n.pesLocale;r=e.getLocale(t);if(r!==t){n=s(r);if(n)return n.pesLocale}return"default"},e.getLocale=function(t){var n,r=i(t);return r?r.defaultLocale:(n=t.lastIndexOf("-"),n>-1?e.getLocale(t.substring(0,n)):t)}}return new e}),n("shareUI/services/i18nResolver",["require","browser/window","services/i18n/cultureInfo"],function(e){function r(e){function s(e){if(!e||r[e.toLowerCase()])return;r[e.toLowerCase()]=e.toLowerCase(),i.push(e.toLowerCase())}function o(e){s(e),s(e&&n.getLocale(e))}var r={},i=[];return o(e),o(t.navigator&&t.navigator.languages&&t.navigator.languages[0]),o(t.navigator&&t.navigator.language),o(t.navigator&&t.navigator.userLanguage),o(t.navigator&&t.navigator.browserLanguage),i}var t=e("browser/window"),n=e("services/i18n/cultureInfo");return{getOrderedLocalesToTry:r}}),n("experience/settings",[],function(){var e={platformId:908,defaultLanguage:"en-us",urlMaxLength:2e3,biClientName:"Web"};return e}),n("shareUI/button/i18n",["require","services/i18n/shareButton/combinedResources","shareUI/services/i18nResolver","experience/settings"],function(e){function i(e,i){var s=t.keyNames.indexOf(e);if(s===-1)return"";var o=n.getOrderedLocalesToTry(i);o.indexOf(r.defaultLanguage)===-1&&o.push(r.defaultLanguage);for(var u=0;u<o.length;u++)if(t.translations[o[u]]&&t.translations[o[u]][s])return t.translations[o[u]][s];return""}var t=e("services/i18n/shareButton/combinedResources"),n=e("shareUI/services/i18nResolver"),r=e("experience/settings");return{getLocalized:i}});var r;(function(e){e.version="2.4.0"})(r||(r={}));var i;(function(e){(function(e){(function(e){e[e.BT_STOP=0]="BT_STOP",e[e.BT_STOP_BASE=1]="BT_STOP_BASE",e[e.BT_BOOL=2]="BT_BOOL",e[e.BT_UINT8=3]="BT_UINT8",e[e.BT_UINT16=4]="BT_UINT16",e[e.BT_UINT32=5]="BT_UINT32",e[e.BT_UINT64=6]="BT_UINT64",e[e.BT_FLOAT=7]="BT_FLOAT",e[e.BT_DOUBLE=8]="BT_DOUBLE",e[e.BT_STRING=9]="BT_STRING",e[e.BT_STRUCT=10]="BT_STRUCT",e[e.BT_LIST=11]="BT_LIST",e[e.BT_SET=12]="BT_SET",e[e.BT_MAP=13]="BT_MAP",e[e.BT_INT8=14]="BT_INT8",e[e.BT_INT16=15]="BT_INT16",e[e.BT_INT32=16]="BT_INT32",e[e.BT_INT64=17]="BT_INT64",e[e.BT_WSTRING=18]="BT_WSTRING",e[e.BT_UNAVAILABLE=127]="BT_UNAVAILABLE"})(e.BondDataType||(e.BondDataType={}));var t=e.BondDataType;(function(e){e[e.MARSHALED_PROTOCOL=0]="MARSHALED_PROTOCOL",e[e.MAFIA_PROTOCOL=17997]="MAFIA_PROTOCOL",e[e.COMPACT_PROTOCOL=16963]="COMPACT_PROTOCOL",e[e.JSON_PROTOCOL=21322]="JSON_PROTOCOL",e[e.PRETTY_JSON_PROTOCOL=20554]="PRETTY_JSON_PROTOCOL",e[e.SIMPLE_PROTOCOL=20563]="SIMPLE_PROTOCOL"})(e.ProtocolType||(e.ProtocolType={}));var n=e.ProtocolType})(e.Bond||(e.Bond={}));var t=e.Bond})(i||(i={}));var i;(function(e){(function(e){(function(e){var t=function(){function e(){this._buffer=[]}return e.prototype.Add=function(e){var t=0;for(;t<this._buffer.length;++t)if(this._buffer[t]==e)break;t==this._buffer.length&&this._buffer.push(e)},e.prototype.Count=function(){return this._buffer.length},e.prototype.GetBuffer=function(){return this._buffer},e}();e.Set=t;var n=function(){function e(){this._buffer=[]}return e.prototype.Add=function(e,t){this._getIndex(e)==-1&&this._buffer.push({Key:e,Value:t})},e.prototype.AddOrReplace=function(e,t){var n=this._getIndex(e);n>=0?this._buffer[n]={Key:e,Value:t}:this._buffer.push({Key:e,Value:t})},e.prototype.Remove=function(e){var t=this._getIndex(e);t>=0&&this._buffer.splice(t,1)},e.prototype.Count=function(){return this._buffer.length},e.prototype.GetBuffer=function(){return this._buffer},e.prototype.ContainsKey=function(e){return this._getIndex(e)>=0?!0:!1},e.prototype.Get=function(e){var t=this._getIndex(e);return t>=0?this._buffer[t].Value:null},e.prototype._getIndex=function(e){var t=0,n=-1;for(;t<this._buffer.length;++t)if(this._buffer[t].Key==e){n=t;break}return n},e}();e.Map=n})(e.Collections||(e.Collections={}));var t=e.Collections})(e.Bond||(e.Bond={}));var t=e.Bond})(i||(i={}));var i;(function(e){(function(t){(function(e){var n=function(){function e(){}return e.GetBytes=function(e){var t=[];for(var n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?t.push(192|r>>6,128|r&63):r<55296||r>=57344?t.push(224|r>>12,128|r>>6&63,128|r&63):(r=65536+((r&1023)<<10|e.charCodeAt(++n)&1023),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63))}return t},e}();e.Utf8=n;var r=function(){function e(){}return e.GetString=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=[],r=e.length%3,i,s,o,u=function(e){return[t.charAt(e>>18&63),t.charAt(e>>12&63),t.charAt(e>>6&63),t.charAt(e&63)].join("")};for(i=0,o=e.length-r;i<o;i+=3)s=(e[i]<<16)+(e[i+1]<<8)+e[i+2],n.push(u(s));switch(r){case 1:s=e[e.length-1],n.push(t.charAt(s>>2)),n.push(t.charAt(s<<4&63)),n.push("==");break;case 2:s=(e[e.length-2]<<8)+e[e.length-1],n.push(t.charAt(s>>10)),n.push(t.charAt(s>>4&63)),n.push(t.charAt(s<<2&63)),n.push("=")}return n.join("")},e}();e.Base64=r;var s=function(){function e(){}return e.GetBytes=function(e){var t=[];while(e&4294967168)t.push(e&127|128),e>>>=7;return t.push(e&127),t},e}();e.Varint=s;var o=function(){function e(){}return e.GetBytes=function(e){var t=e.low,n=e.high,r=[];while(n||4294967168&t)r.push(t&127|128),t=(n&127)<<25|t>>>7,n>>>=7;return r.push(t&127),r},e}();e.Varint64=o;var u=function(){function e(){}return e.GetBytes=function(e){if(t.BrowserChecker.IsDataViewSupport()){var n=new DataView(new ArrayBuffer(4));n.setFloat32(0,e,!0);var r=[];for(var s=0;s<4;++s)r.push(n.getUint8(s));return r}return i.ConvertNumberToArray(e,!1)},e}();e.Float=u;var a=function(){function e(){}return e.GetBytes=function(e){if(t.BrowserChecker.IsDataViewSupport()){var n=new DataView(new ArrayBuffer(8));n.setFloat64(0,e,!0);var r=[];for(var s=0;s<8;++s)r.push(n.getUint8(s));return r}return i.ConvertNumberToArray(e,!0)},e}();e.Double=a;var f=function(){function e(){}return e.EncodeZigzag16=function(e){return e=t.Number.ToInt16(e),e<<1^e>>15},e.EncodeZigzag32=function(e){return e=t.Number.ToInt32(e),e<<1^e>>31},e.EncodeZigzag64=function(e){var n=e.low,r=e.high,i=r<<1|n>>>31,s=n<<1;r&2147483648&&(i=~i,s=~s);var o=new t.UInt64("0");return o.low=s,o.high=i,o},e}();e.Zigzag=f})(t.Encoding||(t.Encoding={}));var n=t.Encoding;(function(n){var r=function(){function e(){}return e.GetString=function(e){var t=[];for(var n=0;n<e.length;++n){var r=e[n];if(r<=191)t.push(String.fromCharCode(r));else if(r<=223){var i=e[++n];t.push(String.fromCharCode((r&31)<<6|i&63))}else if(r<=239){var i=e[++n],s=e[++n];t.push(String.fromCharCode((r&15)<<12|(i&63)<<6|s&63))}else{var i=e[++n],s=e[++n],o=e[++n];r=(r&7)<<18|(i&63)<<12|(s&63)<<6|o&63,r-=65536,t.push(String.fromCharCode(55296|r>>10&1023)),t.push(String.fromCharCode(56320|r&1023))}}return t.join("")},e}();n.Utf8=r;var s=function(){function e(){}return e.GetBytes=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=[];for(var r=0;r<e.length;++r){var i=t.indexOf(e.charAt(r++)),s=t.indexOf(e.charAt(r++)),o=t.indexOf(e.charAt(r++)),u=t.indexOf(e.charAt(r));n.push(i<<2|s>>4),o>=0&&(n.push(s<<4&240|o>>2),u>=0&&n.push(o<<6&192|u))}return n},e}();n.Base64=s;var o=function(){function t(){}return t.GetInt64=function(t){var n=new e.Bond.Int64("0"),r=this._Read(t);return n.low=r[0],r.length>1&&(n.high=r[1]),n},t.GetNumber=function(e){return this._Read(e)[0]},t._Read=function(e){var t=[],n=0,r=!0,i=0;while(r){var s=e.shift();r=(s&128)!=0,s&=127;if(!(i<28)){n|=s<<i,t.push(n),n=s>>4,i=3;break}n|=s<<i,i+=7}while(r){var s=e.shift();r=(s&128)!=0,s&=127,n|=s<<i,i+=7;if(i>=32)break}return t.push(n),t},t}();n.Varint=o;var u=function(){function e(){}return e.GetNumber=function(e){if(t.BrowserChecker.IsDataViewSupport()){var n=new DataView(new ArrayBuffer(4));for(var r=0;r<4;++r)n.setUint8(r,e[r]);return n.getFloat32(0,!0)}return i.ConvertArrayToNumber(e,!1)},e}();n.Float=u;var a=function(){function e(){}return e.GetNumber=function(e){if(t.BrowserChecker.IsDataViewSupport()){var n=new DataView(new ArrayBuffer(8));for(var r=0;r<8;++r)n.setUint8(r,e[r]);return n.getFloat64(0,!0)}return i.ConvertArrayToNumber(e,!0)},e}();n.Double=a;var f=function(){function t(){}return t.DecodeZigzag16=function(e){return((65535&e)>>>1^-(e&1))<<16>>16},t.DecodeZigzag32=function(e){return e>>>1^-(e&1)},t.DecodeZigzag64=function(t){var n=t.high&1,r=t.high>>>1,i=t.low&1,s=t.low>>>1;s=n<<31|s,i&&(s^=4294967295,r^=4294967295);var o=new e.Bond.UInt64("0");return o.low=s,o.high=r,o},t}();n.Zigzag=f})(t.Decoding||(t.Decoding={}));var r=t.Decoding,i=function(){function e(){}return e.ConvertNumberToArray=function(e,t){if(!e)return t?this._doubleZero:this._floatZero;var n=t?11:8,r=t?52:23,i=(1<<n-1)-1,s=1-i,o=i,u=e<0?1:0;e=Math.abs(e);var a=Math.floor(e),f=e-a,l=2*(i+2)+r,c=new Array(l),h=0;while(h<l)c[h++]=0;h=i+2;while(h&&a)c[--h]=a%2,a=Math.floor(a/2);h=i+1;while(h<l-1&&f>0)f*=2,f>=1?(c[++h]=1,--f):c[++h]=0;var p=0;for(;p<l&&!c[p];++p);var d=i+1-p,v=p+r;if(c[v+1]){for(h=v;h>p;--h)if(c[h]=1-c[h])break;h==p&&++d}if(d>o||a)return u?t?this._doubleNegInifinity:this._floatNegInifinity:t?this._doubleInifinity:this._floatInifinity;if(d<s)return t?this._doubleZero:this._floatZero;if(t){var m=0;for(h=0;h<20;++h)m=m<<1|c[++p];var g=0;for(;h<52;++h)g=g<<1|c[++p];m|=d+i<<20,m=u<<31|m&2147483647;var y=[g&255,g>>8&255,g>>16&255,g>>>24,m&255,m>>8&255,m>>16&255,m>>>24];return y}var b=0;for(h=0;h<23;++h)b=b<<1|c[++p];b|=d+i<<23,b=u<<31|b&2147483647;var y=[b&255,b>>8&255,b>>16&255,b>>>24];return y},e.ConvertArrayToNumber=function(e,n){var r=n?11:8,i=(1<<r-1)-1,s=(e[n?7:3]&128)!=0,o=n?(e[7]&127)<<4|(e[6]&240)>>4:(e[3]&127)<<1|(e[2]&128)>>7;if(o==255)throw new t.Exception("Not a valid float/double buffer.");var u=1,a=1;if(n){var f=(e[6]&15)<<28|(e[5]&255)<<20|(e[4]&255)<<12,l=e[3]<<24|(e[2]&255)<<16|(e[1]&255)<<8|e[0]&255;if(!o&&!f&&!l)return 0;for(var c=0;c<20;++c)a/=2,f<0&&(u+=a),f<<=1;for(var c=0;c<32;++c)a/=2,l<0&&(u+=a),l<<=1}else{var h=(e[2]&127)<<25|(e[1]&255)<<17|(e[0]&255)<<9;if(!o&&!h)return 0;for(var c=0;c<23;++c)a/=2,h<0&&(u+=a),h<<=1}return u*=Math.pow(2,o-i),s?0-u:u},e._floatZero=[0,0,0,0],e._doubleZero=[0,0,0,0,0,0,0,0],e._floatInifinity=[0,0,128,127],e._floatNegInifinity=[0,0,128,255],e._doubleInifinity=[0,0,0,0,0,0,240,127],e._doubleNegInifinity=[0,0,0,0,0,0,240,255],e}()})(e.Bond||(e.Bond={}));var t=e.Bond})(i||(i={}));var i;(function(e){(function(e){(function(t){var n=function(){function t(){this._buffer=[]}return t.prototype.WriteByte=function(t){this._buffer.push(e.Number.ToByte(t))},t.prototype.Write=function(e,t,n){while(n--)this.WriteByte(e[t++])},t.prototype.GetBuffer=function(){return this._buffer},t}();t.MemoryStream=n})(e.IO||(e.IO={}));var t=e.IO})(e.Bond||(e.Bond={}));var t=e.Bond})(i||(i={}));var i;(function(e){(function(e){var t=function(){function e(e,t){this.Type=e,this.Id=t}return e}();e.FieldTag=t;var n=function(){function e(e,t){this.ElementType=e,this.Size=t}return e}();e.ContainerTag=n;var r=function(){function e(e,t,n){this.KeyType=e,this.ValueType=t,this.Size=n}return e}();e.KeyValueContainerTag=r;var i=function(){function e(){}return e}();e.Bonded=i;var s=function(){function e(e){this.low=0,this.high=0,this.low=parseInt(e),this.low<0&&(this.high=-1)}return e.prototype.Equals=function(t){var n=new e(t);return this.low==n.low&&this.high==n.high},e}();e.Int64=s;var o=function(){function e(e){this.low=0,this.high=0,this.low=parseInt(e)}return e.prototype.Equals=function(t){var n=new e(t);return this.low==n.low&&this.high==n.high},e}();e.UInt64=o;var u=function(){function e(){}return e.ToByte=function(e){return this.ToUInt8(e)},e.ToInt8=function(e){var t=(e&128)<<24>>24;return e&127|t},e.ToInt16=function(e){var t=(e&32768)<<16>>16;return e&32767|t},e.ToInt32=function(e){var t=e&2147483648;return e&2147483647|t},e.ToUInt8=function(e){return e&255},e.ToUInt16=function(e){return e&65535},e.ToUInt32=function(e){return e&4294967295},e}();e.Number=u;var a=function(){function e(e){this.Message=e}return e}();e.Exception=a;var f=function(){function e(){}return e}();e.KeyValuePair=f;var l=function(){function e(){}return e.IsDataViewSupport=function(){return typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"},e}();e.BrowserChecker=l})(e.Bond||(e.Bond={}));var t=e.Bond})(i||(i={}));var i;(function(e){(function(e){var t=function(){function t(e){this._stream=e}return t.prototype.WriteBlob=function(e){this._stream.Write(e,0,e.length)},t.prototype.WriteBool=function(e){this._stream.WriteByte(e?1:0)},t.prototype.WriteContainerBegin=function(e,t){this.WriteUInt8(t),this.WriteUInt32(e)},t.prototype.WriteMapContainerBegin=function(e,t,n){this.WriteUInt8(t),this.WriteUInt8(n),this.WriteUInt32(e)},t.prototype.WriteContainerEnd=function(){},t.prototype.WriteDouble=function(t){var n=e.Encoding.Double.GetBytes(t);this._stream.Write(n,0,n.length)},t.prototype.WriteFloat=function(t){var n=e.Encoding.Float.GetBytes(t);this._stream.Write(n,0,n.length)},t.prototype.WriteFieldBegin=function(e,t,n){t<=5?this._stream.WriteByte(e|t<<5):t<=255?(this._stream.WriteByte(e|192),this._stream.WriteByte(t)):(this._stream.WriteByte(e|224),this._stream.WriteByte(t),this._stream.WriteByte(t>>8))},t.prototype.WriteFieldEnd=function(){},t.prototype.WriteFieldOmitted=function(e,t,n){},t.prototype.WriteInt16=function(t){t=e.Encoding.Zigzag.EncodeZigzag16(t),this.WriteUInt16(t)},t.prototype.WriteInt32=function(t){t=e.Encoding.Zigzag.EncodeZigzag32(t),this.WriteUInt32(t)},t.prototype.WriteInt64=function(t){this.WriteUInt64(e.Encoding.Zigzag.EncodeZigzag64(t))},t.prototype.WriteInt8=function(t){this._stream.WriteByte(e.Number.ToInt8(t))},t.prototype.WriteString=function(t){if(t=="")this.WriteUInt32(0);else{var n=e.Encoding.Utf8.GetBytes(t);this.WriteUInt32(n.length),this._stream.Write(n,0,n.length)}},t.prototype.WriteStructBegin=function(e,t){},t.prototype.WriteStructEnd=function(e){this.WriteUInt8(e?1:0)},t.prototype.WriteUInt16=function(t){var n=e.Encoding.Varint.GetBytes(e.Number.ToUInt16(t));this._stream.Write(n,0,n.length)},t.prototype.WriteUInt32=function(t){var n=e.Encoding.Varint.GetBytes(e.Number.ToUInt32(t));this._stream.Write(n,0,n.length)},t.prototype.WriteUInt64=function(t){var n=e.Encoding.Varint64.GetBytes(t);this._stream.Write(n,0,n.length)},t.prototype.WriteUInt8=function(t){this._stream.WriteByte(e.Number.ToUInt8(t))},t.prototype.WriteWString=function(e){this.WriteUInt32(e.length);for(var t=0;t<e.length;++t){var n=e.charCodeAt(t);this._stream.WriteByte(n),this._stream.WriteByte(n>>>8)}},t}();e.CompactBinaryProtocolWriter=t;var n=function(){function e(){}return e}();e.CompactBinaryProtocolReader=n})(e.Bond||(e.Bond={}));var t=e.Bond})(i||(i={}));var s;(function(e){var t=function(){function e(){}return e.IsSafari=function(){return e._isSafari===null&&e._DetectBrowser(),e._isSafari},e.ajax=function(t){var n=e._createConnection();if(t.headers){var r="qsp=true";for(var i in t.headers)r+="&",r+=encodeURIComponent(i),r+="=",r+=encodeURIComponent(t.headers[i]);t.url.indexOf("?")<0?t.url+="?":t.url+="&",t.url+=r}n.open(t.type,t.url),t.complete&&(n.onload=function(){typeof n.status=="undefined"&&(n.status=200),t.complete(n)},n.ontimeout=function(){typeof n.status=="undefined"&&(n.status=500),t.complete(n)},n.onerror=function(){t.complete(n)}),n.send(t.data)},e.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},e.IsUsingXDomainRequest=function(){if(e._usingXDomainRequest==null){var t=new XMLHttpRequest;typeof t.withCredentials=="undefined"&&typeof XDomainRequest!="undefined"?e._usingXDomainRequest=!0:e._usingXDomainRequest=!1}return e._usingXDomainRequest},e._createConnection=function(){var t=new XMLHttpRequest;return e.IsUsingXDomainRequest()?new XDomainRequest:t},e._DetectBrowser=function(){var t=navigator.userAgent.toLowerCase();t.indexOf("safari")>=0&&t.indexOf("chrome")<0?e._isSafari=!0:e._isSafari=!1},e._isSafari=null,e._usingXDomainRequest=null,e}();e.Utils=t})(s||(s={}));var o;(function(e){(function(e){(function(e){(function(t){var n=function(){function e(){}return e.GetGuid=function(){var e=function(){return Math.floor((1+Math.random())*65536).toString(16).substring(1,5)};return[e(),e(),"-",e(),"-",e(),"-",e(),"-",e(),e(),e()].join("")},e.GetTimeStamp=function(){var e=(new Date).getTime(),t=new i.Bond.Int64("0");return t.low=e&4294967295,t.high=Math.floor(e/4294967296),t},e.GetTimeStampWithValue=function(e){var t=new i.Bond.Int64("0");return t.low=e&4294967295,t.high=Math.floor(e/4294967296),t},e}();t.utils=n,function(e){e[e.NotSet=0]="NotSet",e[e.Event=1]="Event",e[e.PerformanceCounter=2]="PerformanceCounter",e[e.Anomaly=3]="Anomaly",e[e.Prediction=4]="Prediction",e[e.TraceLog=5]="TraceLog",e[e.EventSourceLog=6]="EventSourceLog",e[e.HttpLog=7]="HttpLog",e[e.PerformanceCounterAzure=8]="PerformanceCounterAzure",e[e.PerformanceCounterGfs=9]="PerformanceCounterGfs"}(t.RecordType||(t.RecordType={}));var r=t.RecordType;(function(e){e[e.NotSet=0]="NotSet",e[e.O365=1]="O365",e[e.SkypeBI=2]="SkypeBI",e[e.SkypeData=3]="SkypeData"})(t.PIIScrubber||(t.PIIScrubber={}));var s=t.PIIScrubber;(function(e){e[e.NotSet=0]="NotSet",e[e.DistinguishedName=1]="DistinguishedName",e[e.GenericData=2]="GenericData",e[e.IPV4Address=3]="IPV4Address",e[e.IPv6Address=4]="IPv6Address",e[e.MailSubject=5]="MailSubject",e[e.PhoneNumber=6]="PhoneNumber",e[e.QueryString=7]="QueryString",e[e.SipAddress=8]="SipAddress",e[e.SmtpAddress=9]="SmtpAddress",e[e.Identity=10]="Identity",e[e.Uri=11]="Uri",e[e.Fqdn=12]="Fqdn",e[e.IPV4AddressLegacy=13]="IPV4AddressLegacy"})(t.PIIKind||(t.PIIKind={}));var o=t.PIIKind,u=function(){function e(){this.ScrubType=0,this.Kind=0,this.RawContent=""}return e.prototype.Write=function(e){this.WriteImpl(e,!1)},e.prototype.WriteImpl=function(e,t){e.WriteStructBegin(null,t),this.ScrubType!=0?(e.WriteFieldBegin(16,1,null),e.WriteInt32(this.ScrubType),e.WriteFieldEnd()):e.WriteFieldOmitted(16,1,null),this.Kind!=0?(e.WriteFieldBegin(16,2,null),e.WriteInt32(this.Kind),e.WriteFieldEnd()):e.WriteFieldOmitted(16,2,null),this.RawContent!=""?(e.WriteFieldBegin(9,3,null),e.WriteString(this.RawContent),e.WriteFieldEnd()):e.WriteFieldOmitted(9,3,null),e.WriteStructEnd(t)},e.prototype.Read=function(e){this.ReadImpl(e,!1)},e.prototype.ReadImpl=function(e,t){},e}();t.PII=u;var a=function(){function t(){this.Id=n.GetGuid(),this.Timestamp=n.GetTimeStamp(),this.Type="",this.EventType="",this.Extension=new i.Bond.Collections.Map,this.RecordType=0,this.PIIExtensions=new i.Bond.Collections.Map}return t.prototype.AddOrReplacePII=function(t,n,r){var i=new e.datamodels.PII;i.RawContent=n,i.Kind=r,i.ScrubType=1,this.PIIExtensions.AddOrReplace(t,i)},t.prototype.Write=function(e){this.WriteImpl(e,!1)},t.prototype.WriteImpl=function(e,t){e.WriteStructBegin(null,t),this.Id!=""?(e.WriteFieldBegin(9,1,null),e.WriteString(this.Id),e.WriteFieldEnd()):e.WriteFieldOmitted(9,1,null),this.Timestamp.Equals("0")?e.WriteFieldOmitted(17,3,null):(e.WriteFieldBegin(17,3,null),e.WriteInt64(this.Timestamp),e.WriteFieldEnd()),this.Type!=""?(e.WriteFieldBegin(9,5,null),e.WriteString(this.Type),e.WriteFieldEnd()):e.WriteFieldOmitted(9,5,null),this.EventType!=""?(e.WriteFieldBegin(9,6,null),e.WriteString(this.EventType),e.WriteFieldEnd()):e.WriteFieldOmitted(9,6,null);if(this.Extension.Count()){e.WriteFieldBegin(13,13,null),e.WriteMapContainerBegin(this.Extension.Count(),9,9);for(var n=0;n<this.Extension.GetBuffer().length;++n)e.WriteString(this.Extension.GetBuffer()[n].Key),e.WriteString(this.Extension.GetBuffer()[n].Value);e.WriteContainerEnd(),e.WriteFieldEnd()}else e.WriteFieldOmitted(13,13,null);this.RecordType!=0?(e.WriteFieldBegin(16,24,null),e.WriteInt32(this.RecordType),e.WriteFieldEnd()):e.WriteFieldOmitted(16,24,null);if(this.PIIExtensions.Count()){e.WriteFieldBegin(13,30,null),e.WriteMapContainerBegin(this.PIIExtensions.Count(),9,10);for(var r=0;r<this.PIIExtensions.GetBuffer().length;++r)e.WriteString(this.PIIExtensions.GetBuffer()[r].Key),this.PIIExtensions.GetBuffer()[r].Value.WriteImpl(e,!1);e.WriteContainerEnd(),e.WriteFieldEnd()}else e.WriteFieldOmitted(13,30,null);e.WriteStructEnd(t)},t.prototype.Read=function(e){this.ReadImpl(e,!1)},t.prototype.ReadImpl=function(e,t){},t}();t.Record=a;var f=function(){function e(){this.Source="",this.DataPackageId="",this.Timestamp=new i.Bond.Int64("0"),this.Records=[]}return e.prototype.Write=function(e){this.WriteImpl(e,!1)},e.prototype.WriteImpl=function(e,t){e.WriteStructBegin(null,t),this.Source!=""?(e.WriteFieldBegin(9,2,null),e.WriteString(this.Source),e.WriteFieldEnd()):e.WriteFieldOmitted(9,2,null),this.DataPackageId!=""?(e.WriteFieldBegin(9,5,null),e.WriteString(this.DataPackageId),e.WriteFieldEnd()):e.WriteFieldOmitted(9,5,null),this.Timestamp.Equals("0")?e.WriteFieldOmitted(17,6,null):(e.WriteFieldBegin(17,6,null),e.WriteInt64(this.Timestamp),e.WriteFieldEnd());if(this.Records.length){e.WriteFieldBegin(11,8,null),e.WriteContainerBegin(this.Records.length,10);for(var n=0;n<this.Records.length;++n)this.Records[n].WriteImpl(e,!1);e.WriteContainerEnd(),e.WriteFieldEnd()}else e.WriteFieldOmitted(11,8,null);e.WriteStructEnd(t)},e.prototype.Read=function(e){this.ReadImpl(e,!1)},e.prototype.ReadImpl=function(e,t){},e}();t.DataPackage=f;var l=function(){function e(){this.DataPackages=[],this.RequestRetryCount=0}return e.prototype.Write=function(e){this.WriteImpl(e,!1)},e.prototype.WriteImpl=function(e,t){e.WriteStructBegin(null,t);if(this.DataPackages.length){e.WriteFieldBegin(11,1,null),e.WriteContainerBegin(this.DataPackages.length,10);for(var n=0;n<this.DataPackages.length;++n)this.DataPackages[n].WriteImpl(e,!1);e.WriteContainerEnd(),e.WriteFieldEnd()}else e.WriteFieldOmitted(11,1,null);this.RequestRetryCount!=0?(e.WriteFieldBegin(16,2,null),e.WriteInt32(this.RequestRetryCount),e.WriteFieldEnd()):e.WriteFieldOmitted(16,2,null),e.WriteStructEnd(t)},e.prototype.Read=function(e){this.ReadImpl(e,!1)},e.prototype.ReadImpl=function(e,t){},e}();t.ClientToCollectorRequest=l})(e.datamodels||(e.datamodels={}));var t=e.datamodels})(e.telemetry||(e.telemetry={}));var t=e.telemetry})(e.applications||(e.applications={}));var t=e.applications})(o||(o={}));var o;(function(e){(function(e){(function(e){(function(t){(function(e){e[e.SENT=0]="SENT",e[e.SEND_FAILED=1]="SEND_FAILED"})(t.CallbackEventType||(t.CallbackEventType={}));var n=t.CallbackEventType;(function(e){e[e.DATARV_ERROR_OK=0]="DATARV_ERROR_OK",e[e.DATARV_ERROR_INVALID_EVENT=1]="DATARV_ERROR_INVALID_EVENT",e[e.DATARV_ERROR_INVALID_CONFIG=2]="DATARV_ERROR_INVALID_CONFIG",e[e.DATARV_ERROR_INVALID_DEPENDENCIES=3]="DATARV_ERROR_INVALID_DEPENDENCIES",e[e.DATARV_ERROR_INVALID_STATUS=4]="DATARV_ERROR_INVALID_STATUS",e[e.DATARV_ERROR_INVALID_ARG=5]="DATARV_ERROR_INVALID_ARG"})(t.DATARV_ERROR||(t.DATARV_ERROR={}));var o=t.DATARV_ERROR,u=function(){function e(e){this._errorCode=0,this._errorCode=e}return e.prototype.ErrorCode=function(){return this._errorCode},e.prototype.toString=function(){switch(this._errorCode){case 0:return"DATARV_ERROR_OK";case 1:return"Event is invalid. Either event.Id is empty, or event.Timestamp is empty, or event.EventType is empty.";case 2:return"Invalid configuration. CollectorUrl is missing.";case 3:return"DATARV_ERROR_INVALID_DEPENDENCIES";case 4:return"Telemetry Manager is not initialized.";case 5:return"TenantToken is null or empty, or events is null.";default:return"Unknown error"}},e}();t.Exception=u;var a=function(){function e(){}return e}();t.TelemetryConfig=a;var f=function(){function e(){}return e.CreateTelemetryManager=function(){return new h},e}();t.TelemetryManagerFactory=f;var l=function(){function e(){}return e.MaxPackageSizeInBytes=function(){return 3e6},e.TimeIntervalForNextSendInMS=function(){return 1e3},e}(),c;(function(e){e[e.Created=0]="Created",e[e.Initialized=1]="Initialized",e[e.Started=2]="Started"})(c||(c={}));var h=function(){function t(){this._MaxPackageSizeInBytes=l.MaxPackageSizeInBytes(),this._listeners=[],this._status=0,this._ecsClient=null,this._etag=null,this._ecsCallback=null,this._testServerResponseHook=null}return t.prototype.Initialize=function(e){if(this._status!=0)throw new u(4);if(!e||!e.collectorUrl)throw new u(2);this._config=e,this._Reset(),this._status=1,e.ecsClient&&(this._Verbose("ECS object assigned. Do integration"),this._ecsClient=e.ecsClient),this._Verbose("Initialize() done")},t.prototype.AddListener=function(e){if(this._status<1)throw new u(4);this._Verbose(["AddListener(), status: ",this._status," old length: ",this._listeners.length," func: ",e].join(""));for(var t=0;t<this._listeners.length;++t)if(this._listeners[t]==e){this._Verbose("the listener has been added already, index: "+t);return}this._listeners.push(e),this._Verbose("AddListener() done, the new length: "+this._listeners.length)},t.prototype.RemoveListener=function(e){if(this._status<1)throw new u(4);this._Verbose(["RemoveListener(), status: ",this._status," old length: ",this._listeners.length," func: ",e].join(""));for(var t=0;t<this._listeners.length;++t)if(this._listeners[t]==e){this._listeners.length==1?this._listeners=[]:t==this._listeners.length-1?this._listeners.pop():this._listeners[t]=this._listeners.pop(),this._Verbose(["this listener has been found, index: ",t,"new length: ",this._listeners.length].join(""));return}this._Verbose("listener isn't been found, new length"+this._listeners.length)},t.prototype.Start=function(){if(this._status<1)throw new u(4);this._Verbose(["Start(), status:",this._status,"tag:",t._tag].join(" ")),this._status>=2&&this._Verbose("Start() already, ignore"),this._ecsClient&&(this._ecsCallback=this._CreateEcsCallback(),this._ecsClient.AddListener(this._ecsCallback),this._etag=this._ecsClient.GetETag()),++t._tag,this._status=2,this._Verbose(["Start() done, status: ",this._status,"tag: ",t._tag].join(""))},t.prototype.Stop=function(){if(this._status<1)throw new u(4);this._Verbose("Stop(), status: "+this._status);if(this._status==1){this._Verbose("Stop() already, ignore");return}this._Reset(),this._status=1,this._Verbose("Stop() done, status: "+this._status)},t.prototype.Flush=function(e){this._eventsCache.IsEmpty()||this._WorkThread(e)},t.prototype.SendAsync=function(e,n){if(this._status<1)throw new u(4);this._Verbose(["SendAsync(), status:",this._status,"tenantToken:",e,"count:",n.length].join(" "));if(this._status<2)return this._Info("SendAsync(), not started, ignore, return false"),!1;if(!e||!n)throw this._Error("SendAsync(), tenantToken or events is null or empty"),new u(5);for(var r=0;r<n.length;++r)if(!n[r].Id||!t._eventTypeRegex.test(n[r].EventType)||n[r].Timestamp.Equals("0"))throw this._Error(["eventId:",n[r].Id,"eventType:",n[r].EventType,"timestamp high:",n[r].Timestamp.high,"timestamp low:",n[r].Timestamp.low].join("")),new u(1);return this._eventsCache.AddEvents(e,n),this._Verbose(["SendAsync(), currentTimer: ",this._timer,"eventsCacheIsEmpty",this._eventsCache.IsEmpty()].join(" ")),!this._eventsCache.IsEmpty()&&!this._timer&&this._ScheduleTimer(!1),this._Verbose("SendAsync() done"),!0},t.prototype._WorkThread=function(e){var n=this;try{this._Verbose("_WorkThread, status: "+this._status);if(this._status<2){this._Verbose("_WorkThread, status is not started, return");return}var o=this._eventsCache.DequeuEvents();if(o==null){this._Verbose("_WorkThread, No events found, return"),this._CleanTimer();return}var u=this._PackEvents(o.tenantToken,o.events);this._eventsCache.AddEvents(o.tenantToken,u.remainedEvents);if(u.buffer==null||u.buffer.length==0){this._eventsCache.IsEmpty()?(this._Verbose("eventsCache is empty, stop schedule"),this._CleanTimer()):(this._Verbose("eventsCache is not empty, schedule for next run"),this._ScheduleTimer(!1));return}if(this._testServerResponseHook){var a=this._testServerResponseHook();setTimeout(this._SendCallback(l,o.tenantToken,u.sendEvents,a,null),100);return}var f={type:"POST",url:this._config.collectorUrl,processData:!1,headers:{"content-type":"application/bond-compact-binary","client-id":"NO_AUTH","sdk-version":"ACT-Web-JS-"+r.version},complete:function(t){return n._SendCallback(l,o.tenantToken,u.sendEvents,t,e)}};s.Utils.IsSafari()||typeof Uint8Array=="undefined"?(this._Verbose("Uint8Array is undefined, send with base64 encode."),f.data=i.Bond.Encoding.Base64.GetString(u.buffer),f.headers["content-encoding"]="base64"):(this._Verbose("Uint8Array is defined, send with binary format directly."),f.data=new Uint8Array(u.buffer)),o.tenantToken&&(f.headers["x-apikey"]=o.tenantToken);var l=t._tag;this._lastActiveTime=(new Date).getTime(),s.Utils.ajax(f),this._Verbose("_Workthread, send via jquery, tag: "+l)}catch(c){this._Error("_WorkThread, exception: "+c)}},t.prototype._PackEvents=function(t,n){this._Verbose("_PackageEvents, total Count: "+n.length);var r=new e.datamodels.ClientToCollectorRequest,i=new e.datamodels.DataPackage;i.Source="JS_default_source",i.DataPackageId=e.datamodels.utils.GetGuid(),i.Timestamp=e.datamodels.utils.GetTimeStamp();var s,o=n;n=[];for(;;){i.Records=[],i.Records.push.apply(i.Records,o),r.DataPackages=[],r.DataPackages.push(i),s=this._Serialize(r),this._Verbose(["_PackageEvents, sendEvents.length:",o.length,"buffer.length:",s.length,"MaxPackageSize:",this._MaxPackageSizeInBytes].join(""));if(s.length<this._MaxPackageSizeInBytes)break;if(o.length==1){o=[],s=null;break}var u=o.splice(0,Math.floor(o.length/2));this._Verbose("_PackageEvents, too large, package again"),n.push.apply(n,o),o=u}return this._Verbose(["_PakcageEvents done, sendEventsCount:",o.length,"buffer.length:",s==null?0:s.length,"remained events:",n.length].join("")),{buffer:s,sendEvents:o,remainedEvents:n}},t.prototype._Serialize=function(e){var t=new i.Bond.IO.MemoryStream,n=new i.Bond.CompactBinaryProtocolWriter(t);return e.Write(n),t.GetBuffer()},t.prototype._SendCallback=function(e,n,r,i,s){this._Verbose(["_SendCallback","tag:",e,"current tag:",t._tag,"tenantToken:",n,"events count:",r.length,"jqXHR:",i].join(""));if(s!=null){s(i?i.status:0,n,r);return}var o=i!=null&&i.status>=200&&i.status<300;if(this._status<2||e<t._tag){this._Verbose("_SendCallback, is not started, or tag is not the same, return");return}if(!o&&(!i||i.status&&i.status!=400)){this._Verbose("retry statusCode: "+(i?i.status:0)),this._eventsCache.AddEvents(n,r),this._ScheduleTimer(!0);return}for(var u=0;u<this._listeners.length;++u)this._listeners[u](o?0:1,i?i.status:0,n,r);this._eventsCache.IsEmpty()?(this._Verbose("eventsCache is empty, stop schedule"),this._CleanTimer()):(this._Verbose("eventsCache is not empty, schedule for next run"),this._ScheduleTimer(!1))},t.prototype._CleanTimer=function(){this._Verbose("_CleanTimer(), timer: "+this._timer),this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._ScheduleTimer=function(e){var t=this;this._Verbose("_ScheduleTimer: isRetry: "+e),this._CleanTimer();if(!e){var n=0,r=(new Date).getTime(),i=r-this._lastActiveTime;i>l.TimeIntervalForNextSendInMS()?n=0:n=l.TimeIntervalForNextSendInMS()-i,this._timer=setTimeout(function(){return t._WorkThread(null)},n),this._Verbose("_ScheduleTimer, next try: "+n),this._rescheduleFactor=1}else{this._Verbose("_ScheduleTimer, current factor: "+this._rescheduleFactor);var n=Math.floor(5*this._rescheduleFactor*(1+Math.random()));this._timer=setTimeout(function(){return t._WorkThread(null)},n*1e3),this._Verbose("_ScheduleTimer, next try (s): "+n),this._rescheduleFactor<<=1,this._rescheduleFactor>64&&(this._rescheduleFactor=1)}},t.prototype._Verbose=function(e){this._config.log&&this._config.log.Verbose("[TelemetryManagerImpl]: "+e)},t.prototype._Info=function(e){this._config.log&&this._config.log.Info("[TelemetryManagerImpl]: "+e)},t.prototype._Error=function(e){this._config.log&&this._config.log.Error("[TelemetryManagerImpl]: "+e)},t.prototype._Reset=function(){this._Verbose("Reset()"),this._CleanTimer(),this._lastActiveTime=0,this._rescheduleFactor=1,this._sendingEvents=[],this._eventsCache=new p,this._ecsClient&&(this._ecsClient.RemoveListener(this._ecsCallback),this._ecsCallback=null)},t.prototype._CreateEcsCallback=function(){var e=this;return function(t){t==0&&(e._etag=e._ecsClient.GetETag())}},t.prototype.__GetListenerArray=function(){return this._listeners},t.prototype.__GetTotalEventsCount=function(){return this._eventsCache.GetTotalEventsCount()},t.prototype.__IsScheduled=function(){return this._timer!=null},t.prototype.__ChageMaxPackageSizeInKB=function(e){this._MaxPackageSizeInBytes=e*1024},t.prototype.__SetTestServerResponseHook=function(e){this._testServerResponseHook=e},t._eventTypeRegex=/^[a-zA-Z0-9]([a-zA-Z0-9]|_){2,98}[a-zA-Z0-9]$/,t._tag=0,t}(),p=function(){function e(){this._events={},this._tokens=[]}return e.prototype.AddEvents=function(e,t){if(!t.length)return;this._events[e]||(this._events[e]=[],this._tokens.push(e)),this._events[e].push.apply(this._events[e],t)},e.prototype.IsEmpty=function(){return this._tokens.length==0},e.prototype.DequeuEvents=function(){if(this._tokens.length==0)return null;var e=this._tokens.shift(),t=this._events[e];return delete this._events[e],{tenantToken:e,events:t}},e.prototype.GetTotalEventsCount=function(){var e=0;for(var t in this._events)e+=this._events[t].length;return e},e}()})(e._sender||(e._sender={}));var t=e._sender})(e.telemetry||(e.telemetry={}));var t=e.telemetry})(e.applications||(e.applications={}));var t=e.applications})(o||(o={}));var o;(function(e){(function(e){(function(e){var t=e._sender.TelemetryManagerFactory.CreateTelemetryManager(),n=function(){function e(){this.collectorUrl=null}return e}();e.LogConfiguration=n;var s=function(){function e(){this.key=null,this.value=null,this.pii=null}return e}();e.Property=s;var o=function(){function e(){this.name=null,this.timestamp=null,this.properties=[],this.eventType=null}return e.prototype.setProperty=function(t,n,r){if(!t||!e._propertyNameRegex.test(t))throw new a(3);r?this.properties.push({key:t,value:n,pii:r!=0?r:null}):this.properties.push({key:t,value:n,pii:null})},e._propertyNameRegex=/^[a-zA-Z0-9](([a-zA-Z0-9|_]){0,98}[a-zA-Z0-9])?$/,e}();e.EventProperties=o,function(e){e[e.INVALID_TENANT_TOKEN=1]="INVALID_TENANT_TOKEN",e[e.MISSING_EVENT_PROPERTIES_NAME=2]="MISSING_EVENT_PROPERTIES_NAME",e[e.INVALID_PROPERTY_NAME=3]="INVALID_PROPERTY_NAME",e[e.INVALID_COLLECTOR_URL=4]="INVALID_COLLECTOR_URL",e[e.MISSING_FAILURE_SIGNATURE=5]="MISSING_FAILURE_SIGNATURE",e[e.MISSING_FAILURE_DETAIL=6]="MISSING_FAILURE_DETAIL",e[e.MISSING_PAGEVIEW_ID=7]="MISSING_PAGEVIEW_ID",e[e.MISSING_PAGEVIEW_NAME=8]="MISSING_PAGEVIEW_NAME",e[e.INVALID_SESSION_STATE=9]="INVALID_SESSION_STATE"}(e.TelemetryError||(e.TelemetryError={}));var u=e.TelemetryError,a=function(){function e(e){this.errorCode=null,this.errorCode=e}return e.prototype.ErrorCode=function(){return this.errorCode},e.prototype.toString=function(){switch(this.errorCode){case 1:return"Invalid tenant token";case 2:return"Eventproperties.name can not be null or empty";case 3:return"Invalid Key. Key does not conform to regular expression ^[a-zA-Z0-9](([a-zA-Z0-9|_|.]){0,98}[a-zA-Z0-9])?$";case 4:return"Collector url can't be null or empty.";case 5:return"Failure signature can't be null or empty.";case 6:return"Failure detail can't be null or empty.";case 7:return"Pageview id can't be null or empty.";case 8:return"Pageview name can't be null or empty.";case 9:return"Session state has to be a value from the SessionState enum.";default:return"Unknown error"}},e}();e.Exception=a;var f=function(){function e(){this.contextMap=new i.Bond.Collections.Map,this.piiKind=10}return e.prototype.setAppId=function(e){e&&this.contextMap.Add("AppInfo.Id",e)},e.prototype.setAppVersion=function(e){e&&this.contextMap.Add("AppInfo.Version",e)},e.prototype.setAppLanguage=function(e){e&&this.contextMap.Add("AppInfo.Language",e)},e.prototype.setDeviceId=function(e){e&&this.contextMap.Add("DeviceInfo.Id",e)},e.prototype.setDeviceOsName=function(e){e&&this.contextMap.Add("DeviceInfo.OsName",e)},e.prototype.setDeviceOsVersion=function(e){e&&this.contextMap.Add("DeviceInfo.OsVersion",e)},e.prototype.setDeviceBrowserName=function(e){e&&this.contextMap.Add("DeviceInfo.BrowserName",e)},e.prototype.setDeviceBrowserVersion=function(e){e&&this.contextMap.Add("DeviceInfo.BrowserVersion",e)},e.prototype.setUserId=function(e,t){e&&this.contextMap.Add("UserInfo.Id",e),t&&(this.piiKind=t)},e.prototype.setUserMsaId=function(e){e&&this.contextMap.Add("UserInfo.MsaId",e)},e.prototype.setUserANID=function(e){e&&this.contextMap.Add("UserInfo.ANID",e)},e.prototype.setUserAdvertisingId=function(e){e&&this.contextMap.Add("UserInfo.AdvertisingId",e)},e.prototype.setUserTimeZone=function(e){e&&this.contextMap.Add("UserInfo.TimeZone",e)},e.prototype.setUserLanguage=function(e){e&&this.contextMap.Add("UserInfo.Language",e)},e}(),l=function(){function t(){}return t.initialize=function(){var e=document.documentElement.lang;e&&t.semanticContext.setAppLanguage(e);var n=window.navigator.userLanguage||window.navigator.language;n&&t.semanticContext.setUserLanguage(n);var r=(new Date).getTimezoneOffset(),i=r%60,s=(r-i)/60,o="+";s>0&&(o="-"),t.semanticContext.setUserTimeZone(o+(s<10?"0"+s:s.toString())+":"+(i<10?"0"+i:i.toString())),t.semanticContext.setDeviceBrowserName(t._getBrowserName()),t.semanticContext.setDeviceBrowserVersion(t._getBrowserVersion()),t.semanticContext.setDeviceOsName(t._getOsName()),t.semanticContext.setDeviceOsVersion(t._getOsVersion()),t._setupCookies()},t._setupCookies=function(){var n=t._getCookie(t.DEVICE_ID_COOKIE);n==""?(n=e.datamodels.utils.GetGuid(),t._setCookie(t.DEVICE_ID_COOKIE,n),t.semanticContext.setDeviceId(n)):t.semanticContext.setDeviceId(n);var r=t._getCookie(t.FIRST_LAUNCH_TIME_COOKIE);r==""&&(r=(new Date).getTime().toString(),t._setCookie(t.FIRST_LAUNCH_TIME_COOKIE,r)),t.firstLaunchTime=parseInt(r)},t._setCookie=function(e,t){var n="expires=Mon, 31 Dec 2029 23:59:59 GMT";document.cookie=e+"="+t+"; "+n},t._getCookie=function(e){var t=e+"=",n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r],s=0;while(i.charAt(s)==" ")s++;i=i.substring(s);if(i.indexOf(t)==0)return i.substring(t.length,i.length)}return""},t._getUserAgent=function(){return window.navigator.userAgent},t._userAgentContainsString=function(e){return t._getUserAgent().indexOf(e)>-1},t._isIe=function(){return t._userAgentContainsString("Trident")},t._isEdge=function(){return t._userAgentContainsString(t.BROWSERS.EDGE)},t._isOpera=function(){return t._userAgentContainsString("OPR/")},t._getBrowserName=function(){return t._isOpera()?t.BROWSERS.UNKNOWN:t._userAgentContainsString(t.BROWSERS.PHANTOMJS)?t.BROWSERS.PHANTOMJS:t._isEdge()?t.BROWSERS.EDGE:t._userAgentContainsString(t.BROWSERS.ELECTRON)?t.BROWSERS.ELECTRON:t._userAgentContainsString(t.BROWSERS.CHROME)?t.BROWSERS.CHROME:t._userAgentContainsString(t.BROWSERS.FIREFOX)?t.BROWSERS.FIREFOX:t._userAgentContainsString(t.BROWSERS.SAFARI)?t.BROWSERS.SAFARI:t._userAgentContainsString(t.BROWSERS.SKYPE_SHELL)?t.BROWSERS.SKYPE_SHELL:t._isIe()?t.BROWSERS.MSIE:t.BROWSERS.UNKNOWN},t._getBrowserVersion=function(){function e(){var e,n=t._getUserAgent(),r=n.match(new RegExp(t.BROWSERS.MSIE+" "+t.REGEX_VERSION));if(r)return r[1];e=n.match(new RegExp("rv:"+t.REGEX_VERSION));if(e)return e[1]}function n(e){var n;return e===t.BROWSERS.SAFARI&&(e="Version"),n=t._getUserAgent().match(new RegExp(e+"/"+t.REGEX_VERSION)),n?n[1]:t.UNKNOWN_VERSION}return t._isIe()?e():n(t._getBrowserName())},t._getOsName=function(){var e=/(windows|win32)/i,n=/ arm;/i,r=/windows\sphone\s\d+\.\d+/i,i=/(macintosh|mac os x)/i,s=/(iPad|iPhone|iPod)(?=.*like Mac OS X)/i,o=/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,u=/android/i;return t._getUserAgent().match(r)?t.OPERATING_SYSTEMS.WINDOWS_PHONE:t._getUserAgent().match(n)?t.OPERATING_SYSTEMS.WINDOWS_RT:t._getUserAgent().match(s)?t.OPERATING_SYSTEMS.IOS:t._getUserAgent().match(u)?t.OPERATING_SYSTEMS.ANDROID:t._getUserAgent().match(o)?t.OPERATING_SYSTEMS.LINUX:t._getUserAgent().match(i)?t.OPERATING_SYSTEMS.MACOSX:t._getUserAgent().match(e)?t.OPERATING_SYSTEMS.WINDOWS:t.OPERATING_SYSTEMS.UNKNOWN},t._getOsVersion=function(){function e(){var e=t._getUserAgent().match(new RegExp("Windows NT "+t.REGEX_VERSION));return e&&t.VERSION_MAPPINGS[e[1]]?t.VERSION_MAPPINGS[e[1]]:t.UNKNOWN_VERSION}function n(){var e=t._getUserAgent().match(new RegExp(t.OPERATING_SYSTEMS.MACOSX+" "+t.REGEX_VERSION_MAC));if(e){var n=e[1].replace(/_/g,"."),i=[];if(n){var s=r(n);return s?(i=n.split(s),i[0]):n}}return t.UNKNOWN_VERSION}function r(e){return e.indexOf(".")>-1?".":e.indexOf("_")>-1?"_":null}return t._getOsName()===t.OPERATING_SYSTEMS.WINDOWS?e():t._getOsName()===t.OPERATING_SYSTEMS.MACOSX?n():t.UNKNOWN_VERSION},t.semanticContext=new f,t.firstLaunchTime=-1,t.BROWSERS={MSIE:"MSIE",CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",EDGE:"Edge",ELECTRON:"Electron",SKYPE_SHELL:"SkypeShell",PHANTOMJS:"PhantomJS",UNKNOWN:"Unknown"},t.OPERATING_SYSTEMS={WINDOWS:"Windows",MACOSX:"Mac OS X",WINDOWS_PHONE:"Windows Phone",WINDOWS_RT:"Windows RT",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNKNOWN:"Unknown"},t.VERSION_MAPPINGS={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},t.REGEX_VERSION="([\\d,.]+)",t.REGEX_VERSION_MAC="([\\d,_,.]+)",t.UNKNOWN_VERSION="Unknown",t.DEVICE_ID_COOKIE="MicrosoftApplicationsTelemetryDeviceId",t.FIRST_LAUNCH_TIME_COOKIE="MicrosoftApplicationsTelemetryFirstLaunchTime",t}();(function(e){e[e.STARTED=0]="STARTED",e[e.ENDED=1]="ENDED"})(e.SessionState||(e.SessionState={}));var c=e.SessionState,h=function(){function n(){}return n.initialize=function(e){if(!n._initialized){if(!e)throw new a(1);n._defaultToken=e,n._config.collectorUrl||(n._config.collectorUrl="https://browser.pipe.aria.microsoft.com/Collector/3.0/"),t.Initialize(n._config),t.Start(),l.initialize(),n._initialized=!0}},n.initializeWithConfiguration=function(e,t){if(!t.collectorUrl)throw new a(4);n._config.collectorUrl=t.collectorUrl,n.initialize(e)},n.flush=function(e){t.Flush(e)},n.addCallbackListener=function(e){n._initialized&&t.AddListener(e)},n.setContext=function(e,t,r){n._contextProperties.setProperty(e,t,r)},n.isInitialized=function(){return n._initialized},n.getDefaultToken=function(){return n._defaultToken},n.getSemanticContext=function(){return n._semanticContext},n.__backToUninitialized=function(){n._config=new e._sender.TelemetryConfig,n._semanticContext=new f,n._contextProperties=new o,t=e._sender.TelemetryManagerFactory.CreateTelemetryManager(),n._initialized=!1},n._initialized=!1,n._defaultToken=null,n._config=new e._sender.TelemetryConfig,n._contextProperties=new o,n._semanticContext=new f,n}();e.LogManager=h;var p=function(){function n(t){this._initId=e.datamodels.utils.GetGuid(),this._sequence=0,this._tenantToken=null,this._contextProperties=new o,this._semanticContext=new f,this._sessionStartTime=0,this._sessionId=null,t?this._tenantToken=t:this._tenantToken=h.getDefaultToken()}return n.prototype.logEvent=function(e){if(!e.name)throw new a(2);var t=this._createEventRecord(e.name,e.eventType);this._addCustomPropertiesToEvent(t,e),this._sendRecord(t)},n.prototype.logFailure=function(e,t,n,r,i){if(!e)throw new a(5);if(!t)throw new a(6);var s=this._createEventRecord("failure","failure");s.Extension.Add("Failure.Signature",e),s.Extension.Add("Failure.Detail",t),n&&s.Extension.Add("Failure.Category",n),r&&s.Extension.Add("Failure.Id",r),this._addCustomPropertiesToEvent(s,i),this._sendRecord(s)},n.prototype.logPageView=function(e,t,n,r,i,s){if(!e)throw new a(7);if(!t)throw new a(8);var o=this._createEventRecord("pageview","pageview");o.Extension.Add("PageView.Id",e),o.Extension.Add("PageView.Name",t),n&&o.Extension.Add("PageView.Category",n),r&&o.Extension.Add("PageView.Uri",r),i&&o.Extension.Add("PageView.ReferrerUri",i),this._addCustomPropertiesToEvent(o,s),this._sendRecord(o)},n.prototype.logSession=function(t,n){if(t!==0&&t!==1)throw new a(9);var r=this._createEventRecord("session","session");if(t===0){if(this._sessionStartTime>0)return;this._sessionStartTime=(new Date).getTime(),this._sessionId=e.datamodels.utils.GetGuid(),r.Extension.Add("Session.Id",this._sessionId),r.Extension.Add("Session.State","Started")}else if(t===1){if(this._sessionStartTime==0)return;var i=Math.floor(((new Date).getTime()-this._sessionStartTime)/1e3);r.Extension.Add("Session.Duration",i.toString()),r.Extension.Add("Session.DurationBucket",this._getSessionDurationFromTime(i)),r.Extension.Add("Session.Id",this._sessionId),r.Extension.Add("Session.State","Ended"),this._sessionId=null,this._sessionStartTime=0}r.Extension.Add("Session.FirstLaunchTime",this._getISOString(new Date(l.firstLaunchTime))),this._addCustomPropertiesToEvent(r,n),this._sendRecord(r)},n.prototype.getSessionId=function(){return this._sessionId},n.prototype.setContext=function(e,t,n){this._contextProperties.setProperty(e,t,n)},n.prototype.getSemanticContext=function(){return this._semanticContext},n.prototype._getSessionDurationFromTime=function(e){return e<0?"Undefined":e<=3?"UpTo3Sec":e<=10?"UpTo10Sec":e<=30?"UpTo30Sec":e<=60?"UpTo60Sec":e<=180?"UpTo3Min":e<=600?"UpTo10Min":e<=1800?"UpTo30Min":"Above30Min"},n.prototype._createEventRecord=function(t,n){var i=new e.datamodels.Record;n||(n="custom"),i.EventType=t.toLowerCase(),i.Type=n.toLowerCase(),i.Extension.Add("EventInfo.Source","JS_default_source"),i.Extension.Add("EventInfo.InitId",this._initId),this._sequence++,i.Extension.Add("EventInfo.Sequence",this._sequence.toString()),i.Extension.Add("EventInfo.Name",t.toLowerCase());var s=new Date;return i.Timestamp=e.datamodels.utils.GetTimeStampWithValue(s.getTime()),i.Extension.Add("EventInfo.Time",this._getISOString(s)),i.Extension.Add("EventInfo.SdkVersion","ACT-Web-JS-"+r.version),i},n.prototype._getISOString=function(e){function t(e){return e<10?"0"+e:e.toString()}function n(e){return e<10?"00"+e:e<100?"0"+e:e.toString()}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+":"+n(e.getUTCMilliseconds())+"Z"},n.prototype._addCustomPropertiesToEvent=function(e,t){this._addSemanticContext(e,l.semanticContext),this._addSemanticContext(e,h._semanticContext),this._addSemanticContext(e,this._semanticContext),this._sessionId&&e.Extension.Add("Session.Id",this._sessionId),this._addEventPropertiesToEvent(e,h._contextProperties),this._addEventPropertiesToEvent(e,this._contextProperties),this._addEventPropertiesToEvent(e,t)},n.prototype._addSemanticContext=function(e,t){if(t&&t.contextMap.Count()>0){var n=t.contextMap.GetBuffer();for(var r=0;r<n.length;r++)n[r].Key=="UserInfo.Id"&&t.piiKind!=0?e.AddOrReplacePII(n[r].Key,n[r].Value,t.piiKind):e.Extension.AddOrReplace(n[r].Key,n[r].Value)}},n.prototype._addEventPropertiesToEvent=function(t,n){if(n){n.timestamp&&n.timestamp>=(new Date("1/1/2000")).getTime()&&(t.Timestamp=e.datamodels.utils.GetTimeStampWithValue(n.timestamp),t.Extension.AddOrReplace("EventInfo.Time",(new Date(n.timestamp)).toISOString())),n.name&&(t.EventType=n.name.toLowerCase(),t.Extension.AddOrReplace("EventInfo.Name",n.name.toLowerCase()));var r=n.properties;if(r&&r.length>0)for(var i=0;i<r.length;i++)r[i].key&&typeof r[i].key=="string"&&(r[i].value||r[i].value==0||r[i].value==0||r[i].value=="")&&(this._isPii(r[i].pii)?(t.AddOrReplacePII(r[i].key,r[i].value.toString(),r[i].pii),t.Extension.Remove(r[i].key)):(t.Extension.AddOrReplace(r[i].key,r[i].value.toString()),t.PIIExtensions.Remove(r[i].key)))}},n.prototype._isPii=function(t){if(t==(null||undefined||0))return!1;var n=!1;for(var r in e.datamodels.PIIKind)isNaN(r)||r==t&&(n=!0);return n},n.prototype._sendRecord=function(e){h.isInitialized()&&t.SendAsync(this._tenantToken,[e])},n}();e.Logger=p})(e.telemetry||(e.telemetry={}));var t=e.telemetry})(e.applications||(e.applications={}));var t=e.applications})(o||(o={})),n("vendor/aria",function(){}),t(["vendor/aria"]),function(e){function t(){function s(t,n){Object.keys(n).forEach(function(r){var i=n[r];if(Array.isArray(i)){if(!a(i[0]))throw new Error("Value should be string, number or boolean.");if(typeof i[1]!="number")throw new Error("PIIType should be number");t.setProperty(r,f(i[0]),i[1])}else a(i)&&t.setProperty(r,f(i),e.skypeTelemetryManager.PIIType.NotSet)})}function u(e){Object.keys(t).forEach(function(n){var r=t[n],i=typeof r[0]=="function"?r[0]():r[0];e.setProperty(n,f(i),r[1])})}function a(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function f(e){return e+""}var t={},n={},r={},i;this.setCommonProperty=function(n,r,i){if(typeof n!="string")throw new Error("Property name should be string");if(typeof i!="undefined"&&typeof i!="number")throw new Error("PIIType should be number");if(!a(r)&&typeof r!="function")throw new Error("Value should be string, number, boolean or function.");var s=typeof i=="undefined"?e.skypeTelemetryManager.PIIType.NotSet:i;t[n]=[r,s]},this.setSkypeUserId=function(t){this.setCommonProperty("user_id",t,e.skypeTelemetryManager.PIIType.Identity),this.setCommonProperty("Skype_InitiatingUser_Username",t)},this.sendEvent=function(e,t,a){if(typeof e!="string")throw new Error("Tenant ID should be string");if(typeof t!="string")throw new Error("Event name should be string");n[e]||(o.applications.telemetry.LogManager.initialize(e),n[e]=new o.applications.telemetry.Logger(e),r[e]=n[e].getSemanticContext(),r[e].setAppVersion(i));var f=new o.applications.telemetry.EventProperties;f.name=t,s(f,a),u(f),n[e].logEvent(f)},this.setAppProperties=function(e){i=e}}e.skypeTelemetryManager||(e.skypeTelemetryManager={}),e.skypeTelemetryManager.PIIType={NotSet:0,DistinguishedName:1,GenericData:2,IPV4Address:3,IPv6Address:4,MailSubject:5,PhoneNumber:6,QueryString:7,SipAddress:8,SmtpAddress:9,Identity:10,Uri:11,Fqdn:12},e.skypeTelemetryManager.create=function(){return new t}}(window),n("telemetry/manager/telemetryManager",function(){}),n("ui/session/localSession",["require","exports","module"],function(e,t){t.getSessionId=function(){return""},t.getTabSessionId=function(){return""}}),n("utils/common/version",["require","exports","module"],function(e,t){function n(e){function i(){if(!e){t=[n,n],r=!1;return}var i=o();i?(t=e.split(i),s()):(t=[e,n],r=!1)}function s(){var e=0;for(e=0;e<t.length;++e)if(!t[e]||isNaN(t[e])){t.push(n),r=!1;break}}function o(){return e.indexOf(".")>-1?".":e.indexOf("_")>-1?"_":null}var t,n="U",r=!0;i(),this.getMajor=function(){return t[0]},this.getMinor=function(){return t[1]},this.getAllComponents=function(){return t},this.getOriginalString=function(){return e},this.isValid=function(){return r},this.compareTo=function(e){var n=0,r=0,i=0,s=e.getAllComponents();if(!this.isValid()||!e.isValid())throw new Error("Invalid version cannot be compared");for(n=0;n<s.length;++n){r=parseInt(t[n],10),i=parseInt(s[n],10);if(!r||r<i)return-1;if(r>i)return 1}return 0}}t.parse=function(e){return new n(e)}}),n("browser/detect",["require","browser/window","utils/common/version"],function(e){function h(){return t.navigator.userAgent}function p(e){return h().indexOf(e)>-1}function d(){return p("Trident")}function v(){return p(r.EDGE)}function m(){return p("OPR/")}function g(){return m()?r.UNKNOWN:p(r.PHANTOMJS)?r.PHANTOMJS:v()?r.EDGE:p(r.ELECTRON)?r.ELECTRON:p(r.CHROME)?r.CHROME:p(r.FIREFOX)?r.FIREFOX:p(r.SAFARI)?r.SAFARI:p(r.SKYPE_SHELL)?r.SKYPE_SHELL:d()?r.MSIE:r.UNKNOWN}function y(){function e(){var e,t=h(),n=t.match(new RegExp(r.MSIE+" "+l));if(n)return n[1];e=t.match(new RegExp("rv:"+l));if(e)return e[1]}function t(e){var t;return e===r.SAFARI&&(e="Version"),t=h().match(new RegExp(e+"/"+l)),t?t[1]:a}return d()?e():t(g())}function b(){var e=/(android|ipod|windows phone|wpdesktop|windows ce|blackberry\w*|meego|webos|palm|symbian|pda|\w*?mobile\w*?|\w*?phone\w*?)/i,t=/tablet|ipad/i;return h().match(e)?s.MOBILE:h().match(t)?s.TABLET:s.DESKTOP}function w(){var e=/(windows|win32)/i,t=/ arm;/i,n=/windows\sphone\s\d+\.\d+/i,r=/(macintosh|mac os x)/i,s=/(iPad|iPhone|iPod)(?=.*like Mac OS X)/i,o=/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,u=/android/i;return h().match(n)?i.WINDOWS_PHONE:h().match(t)?i.WINDOWS_RT:h().match(s)?i.IOS:h().match(u)?i.ANDROID:h().match(o)?i.LINUX:h().match(r)?i.MACOSX:h().match(e)?i.WINDOWS:i.UNKNOWN}function E(){function e(){var e=h().match(new RegExp("Windows NT "+l));return e&&o[e[1]]?o[e[1]]:a}function t(){var e=h().match(new RegExp(i.MACOSX+" "+c));return e?n.parse(e[1].replace(/_/g,".")).getMajor():a}return w()===i.WINDOWS?e():w()===i.MACOSX?t():a}function S(){return p("WOW64")||p("Win64")}function x(){return{width:t.screen&&t.screen.width||0,height:t.screen&&t.screen.height||0,pixelRatio:t.devicePixelRatio||0,colorDepth:t.screen&&t.screen.colorDepth||0,isTouchEnabled:Object.prototype.hasOwnProperty.call(t,"ontouchstart")||t.navigator.MaxTouchPoints>0||t.navigator.msMaxTouchPoints>0}}function T(){return{deviceType:b(),osName:w(),osVersion:E(),is64bit:S(),platform:t.navigator.platform}}function N(){return g()===r.MSIE&&C()?t.external.msIsSiteMode():"n/a"}function C(){return t.hasOwnProperty("external")&&t.external.hasOwnProperty("msIsSiteMode")}function k(){return g()===r.SKYPE_SHELL}function L(){return g()===r.ELECTRON}function A(){return(t.navigator.getUserMedia||t.navigator.mozGetUserMedia||t.navigator.webkitGetUserMedia)&&(typeof t.RTCPeerConnection!="undefined"||typeof t.RTCIceGatherer!="undefined"||typeof t.mozRTCPeerConnection!="undefined"||typeof t.webkitRTCPeerConnection!="undefined")}function O(){return A()}function M(){return g()===r.EDGE||g()===r.PHANTOMJS?!1:g()===r.CHROME&&P()>=f?!1:!0}function _(){var e=g();return e===r.FIREFOX||e===r.CHROME}function P(){var e=n.parse(y()).getMajor();return isNaN(e)?e:parseInt(e)}function H(e){return e in t.document.documentElement.style}var t=e("browser/window"),n=e("utils/common/version"),r={MSIE:"MSIE",CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",EDGE:"Edge",ELECTRON:"Electron",SKYPE_SHELL:"SkypeShell",PHANTOMJS:"PhantomJS",UNKNOWN:"Unknown"},i={WINDOWS:"Windows",MACOSX:"Mac OS X",WINDOWS_PHONE:"Windows Phone",WINDOWS_RT:"Windows RT",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNKNOWN:"Unknown"},s={DESKTOP:1,MOBILE:2,TABLET:8},o={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},u={OBJECT_FIT:"objectFit"},a="U",f="42",l="([\\d,.]+)",c="([\\d,_,.]+)",D=function(){var e={};if(!t.location.search)return e;var n=t.location.search.substring(1).split("&");if(!n)return e;for(var r=0;r<n.length;r++){var i=n[r].split("=");if(!i[1])continue;e[i[0]]=i[1]||!0}return e};return{getBrowserInfo:function(){return{browserName:g(),browserVersion:y(),browserMajorVersion:P(),isPinnedSite:N(),isIeEngine:d(),isEdge:v(),isShellApp:k(),isElectron:L(),isInBrowserPluginSupported:M(),isPluginlessCallingSupported:O(),isBrowserDefaultToBlockPlugin:_(),getUrlParams:D,getUserAgent:h}},getScreenInfo:x,getSystemInfo:T,supportsCssProperty:H,supportsPinnedSites:C,BROWSERS:r,OPERATING_SYSTEMS:i,DEVICE_TYPES:s,CSS_PROPERTIES:u}}),n("ui/telemetry/telemetryClient",["require","exports","module","telemetry/manager/telemetryManager","experience/settings","browser/window","ui/session/localSession","browser/detect"],function(e,t){function u(e){m(e,"session_id",i.getSessionId()),m(e,"tab_session_id",i.getTabSessionId())}function a(e){var t=s.getBrowserInfo();e.setCommonProperty("user_agent_name",t.browserName),e.setCommonProperty("user_agent_version",t.browserMajorVersion)}function f(e){var t=s.getSystemInfo();e.setCommonProperty("user_agent_OS",t.osName),e.setCommonProperty("user_agent_OS_version",t.osVersion),e.setCommonProperty("device_type",t.deviceType)}function l(e){var t=s.getScreenInfo();e.setCommonProperty("screen_width",t.width),e.setCommonProperty("screen_height",t.height)}function c(e){n.eTag&&e.setCommonProperty("etag",n.eTag),n.configIds&&n.configIds.length>0&&e.setCommonProperty("cfg_ids",n.configIds+"")}function h(e){return n.telemetry.upnCorrelationIdEnabled?-1:e.indexOf("upn")}function p(e){var t=0,r=128,i=10,s=-1,o=[];if(!n.initParams||!n.initParams.correlationIds)return;o=Object.keys(n.initParams.correlationIds),s=h(o),s>-1&&o.splice(s,1),o.forEach(function(s){t++;var o=n.initParams.correlationIds[s];o&&o!==""&&o.length<=r&&t<=i&&e.setCommonProperty("cid_"+s,o)})}function d(e){n.initParams&&(m(e,"environment_id",n.initParams.environment),m(e,"api_key",n.initParams.apiKey),m(e,"locale",n.initParams.locale)),e.setCommonProperty("ui_version",n.uiVersion),e.setCommonProperty("version",n.version),e.setCommonProperty("property",n.biAppName),e.setCommonProperty("Client_Name",n.biClientName)}function v(e){if(!n.telemetry.selectedTargets)return;for(var t=0;t<n.telemetry.selectedTargets.length;t++){var i=new RegExp(n.telemetry.selectedTargets[t]);if(i.test(r.location.hostname)){e.setCommonProperty("selected_target",!0);break}}}function m(e,t,n){if(!n)return;e.setCommonProperty(t,n)}function g(e){e.setAppProperties(n.version),u(e),a(e),f(e),l(e),p(e),d(e),c(e),v(e)}e("telemetry/manager/telemetryManager");var n=e("experience/settings"),r=e("browser/window"),i=e("ui/session/localSession"),s=e("browser/detect"),o;t.reset=function(){o=null},t.get=function(){return o||(o=r.skypeTelemetryManager.create(),g(o)),o}}),n("shareUI/button/buttonCreator",["require","exports","module","browser/document","swx-utils-common","shareUI/button/i18n","experience/settings","ui/telemetry/telemetryClient","browser/window"],function(e,t){function a(e){var t=e.getAttribute("data-href");return t||(t=u.location.href),t}function f(e){var t=e.getAttribute("data-style");if(!t||["large","small","circle","square"].indexOf(t.toLowerCase())===-1)t="large";return t.toLowerCase()}function l(e){var t=e;try{t=decodeURIComponent(e)}catch(n){}return encodeURIComponent(t)}function c(e,t,r,o){var u=n.createElement("span"),a=n.createElement("div"),l=n.createElement("link"),c=n.createElement("span");while(e.hasChildNodes())e.removeChild(e.childNodes[0]);a.addEventListener("click",function(){p(h(t,r,o))}),l.rel="stylesheet",l.type="text/css",l.href=s.appBaseUrl+"assets/css/shareButton.css",e.appendChild(l),u.className="skypeShareLogo";var d=n.createTextNode(i.getLocalized("share_on_skype_share_button",r));c.appendChild(d),c.className="skypeShareText",a.className="skypeShare "+f(e),a.title=i.getLocalized("share_on_skype_alt_text_button",r),a.appendChild(u),a.appendChild(c),e.appendChild(a)}function h(e,t,n){var i=l(e),o=r.createRaw(),u=s.shareEndpointLink+"?flowId="+o+"&url="+i+"&source=button";return u+=t?"&lang="+t:"",u+=n?"&text="+l(n):"",u.substr(0,s.urlMaxLength)}function p(e){var t=s.uiWidth,r=s.uiHeight,i=u.screenLeft!==undefined?u.screenLeft:screen.left,o=u.screenTop!==undefined?u.screenTop:screen.top,a=u.innerWidth?u.innerWidth:n.documentElement.clientWidth?n.documentElement.clientWidth:screen.width,f=u.innerHeight?u.innerHeight:n.documentElement.clientHeight?n.documentElement.clientHeight:screen.height,l=a/2-t/2+i,c=f/2-r/2+o,h="scrollbars=1, status=0, menubar=0, toolbar=0, resizable=1, width="+t+", height="+r+", left="+l+", top="+c,p=u.open(e,"_blank",h);return p.focus(),p}function d(e,t,n,r){e.addEventListener("click",function(){p(h(t,n,r))})}function v(){var e=n.getElementsByClassName("skype-share");for(var t=e.length-1;t>=0;t--){var r=a(e[t]),i=e[t].getAttribute("data-lang"),f=e[t].getAttribute("data-text"),l=e[t].getAttribute("data-style");l?c(e[t],r,i,f):d(e[t],r,i,f);var h={domain:u.location.hostname?u.location.hostname:"na",shared_url:r,lang:i?i.toLowerCase():"na",style:l?l.toLowerCase():"custom"};o.get().sendEvent(s.telemetry.uiTenantToken,"sharebutton_load",h)}}function m(e){for(var t in e)t.indexOf(".")===-1?s[t]=e[t]:g(e,t);var n=s.appBaseUrl.split("/");s.version=n[n.length-2],s.uiVersion=s.platformId+"/"+s.version+"//"+s.biAppName}function g(e,t){var n=t.split("."),r=s;for(var i=0;i<n.length;i++)r.hasOwnProperty(n[i])||(r[n[i]]=i===n.length-1?e[t]:{}),r=r[n[i]]}var n=e("browser/document"),r=e("swx-utils-common").guid,i=e("shareUI/button/i18n"),s=e("experience/settings"),o=e("ui/telemetry/telemetryClient"),u=e("browser/window");t.run=function(e){m(e),v()}}),n("shareUI/button/shareButton",["require","exports","module","shareUI/button/buttonCreator"],function(e,t){var n=e("shareUI/button/buttonCreator");t.init=function(e,t,r){try{n.run(e.config),t()}catch(i){r(i)}},window.Skype&&window.Skype.onExperienceLoaded&&window.Skype.onExperienceLoaded(t)}),n("shareButton",function(){}),t(["shareUI/button/shareButton"])})()